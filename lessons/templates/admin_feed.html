<html>



<head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
  <link href="{% static 'custom.css'%}" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
  <h1> THIS IS THE ADMIN FEED PAGE</h1>
  





<a href = '{% url 'transaction_history' %}' class = "btn">
  <button type="button" class="btn button">Bank Transaction History</button>
</a>
<a href = '{% url 'invoices_history' %}' class = "btn">
  <button type="button" class="btn button">Student Invoices History</button>
</a>

<a href = '{% url 'term_management' %}' class = "btn">
  <button type="button" class="btn button">Term Management</button>
</a>

<div class="container">
  <div class="row">
    <div class="col-12">
      <h1>Users</h1>

      <style>
        table {
          border-collapse: collapse;
          width: 100%;
          border: 1px solid;
        }

        th, td {
          padding: 8px;
          text-align: left;
          border-bottom: 1px solid #ddd;
          border: 1px solid;
        }
        tr:hover {background-color: gray;}

        .button {
          background-color: #1183ca;
          padding: 10px 10px;
          font-size: 12px;
          color: white;
          font-weight:bold;
          border-radius: 10px;
          border:none;
        }
        div {
          padding: 0.5% 1% 0% 1%;
        }
      </style>

      <p> <a href = '{% url 'log_out' %}' class = "btn btn-lg btn-secondary">log out</a></p>

        <table class="table">
        <thead>
          <tr>
            <th scope="col">ID</th>
            <th scope="col">Firstname</th>
            <th scope="col">Lastname</th>
            <th scope="col">Email</th>
            <th scope="col">is_staff</th>
            <th scope="col">is_active</th>
          </tr>
        </thead>
        <tbody>
          {% for user in student %}
            <tr>
              <th scope="row">{{user.id}}</th>
              <td>{{ user.first_name }}</td>
              <td>{{ user.last_name }}</td>
              <td>{{ user.email }}</td>
              <td>{{ user.is_staff }}</td>
              <td>{{ user.is_active }}</td>
              <td>
                <a href = '{% url 'student_requests' user.id %}' class = "btn">
                  <button type="button" class="btn button">Select Student</button>
                </a>
              </td>
            </tr>
            {# <h2>user :{{user}}</h2> #}
          {% endfor %}
        </tbody>
        </table>

        <h1>Requests</h1>
        <h4>UnfulFilled Requests</h4>
        <table class="table">
          <thead>
            <tr>
              <th scope="col">lesson_id</th>
              <th scope="col">request_date</th>
              <th scope="col">type</th>
              <th scope="col">duration</th>
              <th scope="col">lesson_date_time</th>
              <th scope="col">teacher</th>
              <th scope="col">is_booked</th>
            </tr>
          </thead>
          <tbody>
            {% for lesson in unfulfilled_lessons %}
              <tr>
                <th scope="row">{{ lesson.lesson_id }}</th>
                <td>{{ lesson.request_date }}</td>
                <td>{{ lesson.type }}</td>
                <td>{{ lesson.duration }}</td>
                <td>{{ lesson.lesson_date_time }}</td>
                <td>{{ lesson.teacher_id }}</td>
                <td>{{ lesson.lesson_status }}</td>
              </tr>
            {% endfor %}
          </tbody>
          </table>

          <h4>Fulfilled Requests</h4>
          <table class="table">
            <thead>
              <tr>
                <th scope="col">lesson_id</th>
                <th scope="col">request_date</th>
                <th scope="col">type</th>
                <th scope="col">duration</th>
                <th scope="col">lesson_date_time</th>
                <th scope="col">teacher</th>
                <th scope="col">is_booked</th>
              </tr>
            </thead>
            <tbody>
              {% for lesson in fulfilled_lessons %}
                <tr>
                  <th scope="row">{{ lesson.lesson_id }}</th>
                  <td>{{ lesson.request_date }}</td>
                  <td>{{ lesson.type }}</td>
                  <td>{{ lesson.duration }}</td>
                  <td>{{ lesson.lesson_date_time }}</td>
                  <td>{{ lesson.teacher_id }}</td>
                  <td>{{ lesson.lesson_status }}</td>
                </tr>
              {% endfor %}
            </tbody>
            </table>
    </div>
  </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
</body>
</html>